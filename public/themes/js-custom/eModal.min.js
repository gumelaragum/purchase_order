(function(n){n(["jQuery"],function(n){function y(t,i){function f(n,t){t=="error"&&r("Url [ "+u.url+" ] load fail.","Loading: "+(u.title||i))}var u={loading:!0,url:t.url||t};return t.url&&n.extend(u,t),r(u,i).find(".modal-body").load(u.url,f).closest(".modal-dialog")}function r(t,i){it(t,i);var r=n("<section>").append(tt(t),a(t.buttons));return g(r,t)}function p(i,u,f){function s(r){var u=i.callback||f,o;if(t.off("hide.bs.modal"),typeof u=="function")return o=n(r.currentTarget).html(),u(e[o]?!0:!1);throw new Error("No callback provided to execute confim modal action.");}var e={OK:"Cancel",Yes:"No",True:"False"},o="OK";return r({message:i.message||i,title:i.title||u,onHide:s,size:i.size,buttons:[{close:!0,text:e[i.label]?e[i.label]:e[o],style:"danger"},{close:!0,click:s,text:e[i.label]?i.label:o}]})}function w(){return n("#"+f+" > *").remove()}function b(i,u,f){function h(i){var r=o.callback||f;if(e(),typeof r=="function")return r(n(i.currentTarget).html()==="Cancel"?null:t.find("input").val());throw new Error("No callback provided to execute prompt modal action.");}var o={},s;return typeof i=="object"?n.extend(o,i):(o.message=i,o.title=u,o.callback=f),o.buttons=!1,o.onHide=h,s=a([{close:!0,type:"reset",text:"Cancel",style:"danger"},{close:!1,type:"submit",text:"OK"}]),o.message=n('<form role=form style="margin-bottom: 0;"><div  class=modal-body><label for=prompt-input class=control-label>'+(o.message||"")+'<\/label><input type=text class=form-control id=prompt-input required autofocus value="'+(o.value||"")+(o.pattern?'" pattern="'+o.pattern:"")+'"><\/div><\/form>').append(s).on("submit",h),r(o)}function k(t){return i||(i=l()),n.extend(i,t)}function d(i){return t&&t.remove(),n.extend(s,i)}function e(){return t.off("hide.bs.modal").modal("hide")}function g(n,i){return t.find(".modal-content").append(n.addClass(i.useBin&&!i.loading?u:c)),t.modal(s)}function l(){return{allowContentRecycle:!0,size:"",loadingHtml:'<div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=100 aria-valuemin=0 aria-valuemax=100 style="width: 100%"><span class=sr-only>100% Complete<\/span><\/div><\/div>',title:"Attention"}}function nt(){function r(){return n('<div class="modal fade"> <div class=modal-dialog>  <div class=modal-content>   <div class=modal-header><button type=button class="x close" data-dismiss=modal><span aria-hidden=true>&times;<\/span><span class=sr-only>Close<\/span><\/button><h4 class=modal-title><\/h4><\/div>  <\/div> <\/div><\/div>').on("hidden.bs.modal",v).on("click","button.x",function(i){var u=n(i.currentTarget),r;return u.prop("type")!=="submit"?e():(r=u.closest("form"),r.length&&r[0].checkValidity())?e():t})}return t||(document.getElementById(f)||n("body").append(n(o).prop("id",f).hide()),i=l(),t=r()),t}function a(t){var f,e,s,i,u,r;if(t===!1)return"";if(f=n(o).addClass("modal-footer"),t)for(e=0,s=t.length;e<s;e++){i=t[e];u=n("<button>").addClass("btn btn-"+(i.style||"info"));for(r in i)if(i.hasOwnProperty(r))switch(r){case"close":i[r]&&u.attr("data-dismiss","modal").addClass("x");break;case"click":u.click(i.click);break;case"text":u.html(i[r]);break;default:u.attr(r,i[r])}f.append(u)}else f.append('<button class="x btn btn-info" data-dismiss=modal type=button>Close<\/button>');return f}function tt(t){var u,r=t.loading?i.loadingHtml:t.message||t;return u=r.on||r.onclick?t.clone===!0?n(r).clone():n(r):n(o).addClass("modal-body").html(r),t.css&&t.css!=u.css&&u.css(t.css),u}function v(){return t?(t.off("hide.bs.modal").find("."+c+(!i.allowContentRecycle||h.clone?", ."+u:"")).remove(),t.find("."+u).removeClass(u).appendTo("#"+f)):t}function it(t,r){if(!t)throw new Error("Invalid parameters!");v();h=t;var u=nt();u.find(".modal-dialog").removeClass("modal-sm modal-lg").addClass(t.size?"modal-"+t.size:i.size);u.find(".modal-title").html((t.title||r||i.title)+" ").append(n("<small>").html(t.subtitle||""));u.on("hide.bs.modal",t.onHide);return u}var t,i,s={},h={},c="tmp-modal-content",u="rec-modal-content",f="recycle-bin",o="<div>";return{ajax:y,alert:r,confirm:p,emptyBin:w,prompt:b,setEModalOptions:k,setModalOptions:d,close:e}})})(typeof define=="function"&&define.amd?define:function(n,t){typeof module!="undefined"&&module.exports?module.exports=t(require(n[0])):window.eModal=t(window.jQuery)});
//# sourceMappingURL=eModal.min.js.map
